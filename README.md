# Тестовое задание - реализация загрузки данных и поиска по ним

## Параметры окружения

* Сервер: Apache 2.4
* PHP: 8.1
* БД: MariaDB 10.4

## Структура проекта

Есть две части проекта: публичная и консольная

При помощи .htaccess и функции автозагрузки (composer autoload) сделано разделение функционала на поиск записей с
выводом записей и подходящих комментариев, и на скрипт для выполнения создания таблиц и импорта данных со ссылок
[https://jsonplaceholder.typicode.com/posts](https://jsonplaceholder.typicode.com/posts)
и
[https://jsonplaceholder.typicode.com/comments](https://jsonplaceholder.typicode.com/comments)

В папке:

* `./App/` - папка логики сайта;
* `./cli/` - папка для вызова консольных скриптов;
* `./resources/views/` - папка для шаблонов сайта (в данном проекте по простому,
  `./resources/views/layout/layout.php` - шаблон всех страниц (с подключением стилей, скриптов),
  `./resources/views/form.php` - шаблон страниц поиска,
  );
* `./config/` - папка для настроек сайта, файлы с окончанием `.local.php` не участвуют в git списке файлов (так как там
  хранится конфиденциальная информация);
* `./public/` - папка, что доступна при запросах к сайту.

## Части проекта по заданию

### Создание таблиц в БД

1) Консольный вызов файла [./cli/add_tables.php](cli/add_tables.php)
2) Он внутри вызовет `\App\Bootstrap\Cli` класс в котором прописана логика работы с консольными командами
3) Для создания нужно вызвать `php cli/add_tables.php 1` находясь в папке проекта
4) Если произойдет ошибка, будет вывод в консоль.

### Заполнение таблиц в БД

1) Консольный вызов файла [./cli/add_data_in_db.php](cli/add_data_in_db.php)
2) Он внутри вызовет `\App\Bootstrap\Cli` класс в котором прописана логика работы с консольными командами
3) Для создания нужно вызвать `php cli/add_data_in_db.php` находясь в папке проекта
4) Если произойдет ошибка, будет вывод в консоль.
5) При успешном завершении операций будет выведено сообщение вида:

> Загружено N записей и M комментариев

### Поиск записей со строкой в её комментариях

1) Открытие ссылки сайта, например такой: `http://127.0.0.1/post_test_task`
2) Открытие внутри вызовет `\App\Bootstrap\Web` класс в котором прописана логика работы с запросами к сайту
3) На странице будет отображена форма для поиска записей
4) При клике на кнопке "Найти" будет выполнен переход к странице с результатами поиска (или с сообщением об их
   отсутствии)
5) При вводе менее 3 символов будет выведено сообщение об ошибке

